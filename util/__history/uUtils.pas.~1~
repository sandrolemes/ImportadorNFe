unit uUtils;

interface

  function XmlIso8601ToDateTime(const AValue: string): TDateTime;

implementation


function XmlIso8601ToDateTime(const AValue: string): TDateTime;
var
  S: string;
begin
  Result := 0;

  if AValue = '' then
    Exit;

  // Remove timezone (ex: -03:00)
  S := AValue;
  if Pos('-', Copy(S, 20, Length(S))) > 0 then
    S := Copy(S, 1, 19);

  // yyyy-mm-ddThh:nn:ss
  S[11] := ' ';

  Result := StrToDateTimeDef(S, 0);
end;

end.
